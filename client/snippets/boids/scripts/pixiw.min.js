"use strict";var PixiGame=PixiGame||{};PixiGame.stage=null,PixiGame.renderer=null,PixiGame.gameLoopController=null,PixiGame.sceneController=null,PixiGame.GameLoopController=function(){this._isGameActive=!1,this._fps=60,this._updateInterval=null},PixiGame.GameLoopController.constructor=PixiGame.GameLoopController,PixiGame.GameLoopController.prototype.update=function(){this._isGameActive&&(PixiGame.renderer.render(PixiGame.stage),PixiGame.sceneController.update())},PixiGame.GameLoopController.prototype.start=function(){this._isGameActive||(this._isGameActive=!0,this._updateInterval=setInterval(function(){this.update()}.bind(this),1e3/this._fps))},PixiGame.GameLoopController.prototype.pause=function(){this._isGameActive&&(clearInterval(this._updateInterval),this._isGameActive=!1)},Object.defineProperty(PixiGame.GameLoopController.prototype,"isPaused",{get:function(){return!this._isGameActive}}),PixiGame.SceneController=function(a){this._currentScene=new a,this._previousScene=null,PixiGame.stage.addChild(this._currentScene)},PixiGame.SceneController.constructor=PixiGame.SceneController,PixiGame.SceneController.prototype.update=function(){this._currentScene.update()},PixiGame.SceneController.prototype.requestSceneChange=function(a){null!==this._currentScene&&(this._previousScene=this._currentScene,this._previousScene.destroy(),PixiGame.stage.removeChild(this._previousScene)),this._currentScene=new a,PixiGame.stage.addChild(this._currentScene)},PixiGame.MainMenuScene=function(){PIXI.Graphics.call(this),this._playButton=null,this.setup()},PixiGame.MainMenuScene.constructor=PixiGame.MainMenuScene,PixiGame.MainMenuScene.prototype=Object.create(PIXI.Graphics.prototype),PixiGame.MainMenuScene.prototype.setup=function(){this._playButton=new PIXI.Sprite.fromImage("images/game/play-game-btn.png"),this._playButton.anchor=new PIXI.Point(.5,.5),this._playButton.position.x=320,this._playButton.position.y=480,this._playButton.interactive=!0,this._playButton.touchstart=this._playButton.mousedown=this.handlePlayButtonPressed.bind(this),this.addChild(this._playButton)},PixiGame.MainMenuScene.prototype.handlePlayButtonPressed=function(a){PixiGame.sceneController.requestSceneChange(PixiGame.GameScene)},PixiGame.MainMenuScene.prototype.update=function(){},PixiGame.MainMenuScene.prototype.destroy=function(){this.removeChildren(),this._playButton=null},PixiGame.GameScene=function(){this.w=window.innerWidth,this.h=window.innerHeight,this.time=0,this.mouse=new Boid,this.NUM_BOIDS=0,this.START_BOIDS=15,this.flockers=[],this.boids=[],PIXI.Graphics.call(this),this.setup()},PixiGame.GameScene.constructor=PixiGame.GameScene,PixiGame.GameScene.prototype=Object.create(PIXI.Graphics.prototype),PixiGame.GameScene.prototype.setup=function(){for(var a=0;a<this.START_BOIDS;a++)this.addBoid()},PixiGame.GameScene.prototype.addBoid=function(){var a=this.NUM_BOIDS;this.boids[a]=new Boid,this.boids[a].setBounds(this.w,this.h),this.boids[a].position.x=this.w*Math.random(),this.boids[a].position.y=this.h*Math.random(),this.boids[a].velocity.x=20*Math.random()-10,this.boids[a].velocity.y=20*Math.random()-10,this.flockers[a]=new PixiGame.PBoid(a),this.addChild(this.flockers[a]),this.NUM_BOIDS++},PixiGame.GameScene.prototype.update=function(){this.time+=.1;for(var a=0;a<this.NUM_BOIDS;a++)0==a?(this.boids[0].position.x=document.posx,this.boids[0].position.y=document.posy):this.boids[a].pursue(this.boids[0]),this.boids[a].flock(this.boids),this.boids[a].update(),this.flockers[a].setPosition(this.boids[a].position),this.flockers[a].update(this.time)},PixiGame.GameScene.prototype.destroy=function(){this.removeChildren()},$(document).mousemove(function(a){document.posx=a.pageX,document.posy=a.pageY}),document.addEventListener("DOMContentLoaded",function(){PixiGame.renderer=new PIXI.autoDetectRenderer(window.innerWidth,window.innerHeight),PixiGame.renderer.view.setAttribute("class","renderer"),document.body.appendChild(PixiGame.renderer.view),PixiGame.stage=new PIXI.Container,PixiGame.sceneController=new PixiGame.SceneController(PixiGame.GameScene),PixiGame.gameLoopController=new PixiGame.GameLoopController,PixiGame.gameLoopController.start()});var letters="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";PixiGame.PBoid=function(a){this.index=a,PIXI.Graphics.call(this),this.setup()},PixiGame.PBoid.constructor=PixiGame.PBoid,PixiGame.PBoid.prototype=Object.create(PIXI.Graphics.prototype),PixiGame.PBoid.prototype.setup=function(){this.addChild(new PIXI.Text(letters[this.index],{font:"20px Arial",fill:16715792,align:"center"}))},PixiGame.PBoid.prototype.update=function(a){},PixiGame.PBoid.prototype.setPosition=function(a){this.position.x=a.x,this.position.y=a.y},PixiGame.PBoid.prototype.destroy=function(){this.removeChildren()};var rand=function(a,b){return Math.floor(Math.random()*b)+a};